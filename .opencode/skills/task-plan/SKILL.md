---
name: task-plan
description: 对复杂任务（大于3步）生成任务规划文档
license: MIT
compatibility: opencode
---

# 任务规划

对复杂任务（大于3步）生成完整的任务规划文档，等待用户审核后再执行。

## 前置条件

- 任务已被识别为复杂任务（大于3步）
- 了解任务的目标和背景

## 执行步骤

### 步骤1：分析任务复杂度

判断任务是否为复杂任务（大于3步）：
- 如果小于等于3步，直接执行，无需生成规划文档
- 如果大于3步，继续执行以下步骤

### 步骤2：生成任务规划文档

在 `docs/` 目录下选择合适的子目录，创建文件：
- 文件名格式：`YYYY-MM-DD-功能名称.md`
- 包含以下内容：
  - 任务概述
  - 目标
  - 详细步骤（列出所有步骤）
  - 资源需求
  - 时间预估
  - 风险提示

### 步骤3：等待用户审核

向用户展示规划文档，等待确认：
```
已生成任务规划文档：docs/<子目录>/<日期>-<功能>.md

请审核后回复：
1. 确认执行
2. 修改规划
3. 取消任务
```

### 步骤4：执行任务

用户确认后，按照规划文档执行任务。

## 输出格式

任务规划文档模板：

```markdown
# <功能名称> 任务规划

## 任务概述

<简要描述任务内容和目标>

## 详细步骤

### 步骤1：<步骤名称>
- <具体操作>
- <预期结果>

### 步骤2：<步骤名称>
- <具体操作>
- <预期结果>

...

## 资源需求

- 依赖工具/库
- 配置文件

## 时间预估

- 预计耗时

## 风险提示

- 可能遇到的问题
- 应对方案
```

## 使用示例

```
请执行 task-plan skill
```

## 注意事项

- 仅对复杂任务（大于3步）生成规划文档
- 简单任务直接执行，不生成规划
- 文档路径和文件名要清晰规范
- 必须等待用户确认后再执行
